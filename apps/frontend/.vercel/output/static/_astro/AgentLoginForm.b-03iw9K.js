import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r}from"./index.CRC3r6US.js";import{p as d}from"./payload-client.Bgp2zVY_.js";import{c as m}from"./createLucideIcon.BistqCsR.js";import{M as x}from"./mail.DTe58eKs.js";import{L as f}from"./lock.-QKl7dij.js";import{L as g}from"./loader-circle.Bn9BaOCc.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],y=m("arrow-right",j);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],v=m("circle-alert",N);function E(){const[t,l]=r.useState(!1),[n,u]=r.useState(""),[o,h]=r.useState(""),[c,i]=r.useState(null),p=async s=>{s.preventDefault(),l(!0),i(null);try{const a=await d.login(n,o);if(a.user&&a.user.role!=="agent"){i("Access denied. This portal is for agents only."),d.logout();return}window.location.href="/dashboard"}catch(a){i(a.message||"Login failed. Please check your credentials.")}finally{l(!1)}};return e.jsxs("div",{className:"agent-form-container",children:[e.jsxs("div",{className:"form-header",children:[e.jsxs("h2",{className:"title",children:["AGENT ",e.jsx("span",{className:"highlight",children:"ACCESS"})]}),e.jsx("p",{className:"subtitle",children:"Please sign in to manage your listings"})]}),c&&e.jsxs("div",{className:"error-badge",children:[e.jsx(v,{size:18}),e.jsx("span",{children:c})]}),e.jsxs("form",{onSubmit:p,className:"login-form",children:[e.jsxs("div",{className:"input-field",children:[e.jsx(x,{className:"field-icon",size:20}),e.jsx("input",{type:"email",required:!0,value:n,onChange:s=>u(s.target.value),placeholder:"Agent Email",className:"form-input"})]}),e.jsxs("div",{className:"input-field",children:[e.jsx(f,{className:"field-icon",size:20}),e.jsx("input",{type:"password",required:!0,value:o,onChange:s=>h(s.target.value),placeholder:"Password",className:"form-input"})]}),e.jsx("button",{type:"submit",disabled:t,className:"submit-button",children:t?e.jsx(g,{className:"animate-spin",size:20}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"LOGIN TO DASHBOARD"}),e.jsx(y,{size:20})]})})]})]})}export{E as default};
